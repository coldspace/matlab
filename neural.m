% clear
p1=[1.24,1.27;1.36,1.74;1.38,1.64;1.38,1.82;1.38,1.90;
1.40,1.70;1.48,1.82;1.54,1.82;1.56,2.08];
p2=[1.14,1.82;1.18,1.96;1.20,1.86;1.26,2.00
1.28,2.00;1.30,1.96];

% p=[p1;p2]';
% pr=minmax(p);
 %goal=[ones(1,9),zeros(1,6);zeros(1,9),ones(1,6)];
% net = newlvq(pr,4,[0.6,0.4]);
% net = train(net,p,goal);
% x=[1.24 1.80;1.28 1.84;1.24 1.27]';
% sim(net,x)
% sim(net,p)

clear
% p1=[1.24,1.27;1.36,1.74;1.38,1.64;1.38,1.82;1.38,1.90;
% 1.40,1.70;1.48,1.82;1.54,1.82;1.56,2.08];
% p2=[1.14,1.82;1.18,1.96;1.20,1.86;1.26,2.00
% 1.28,2.00;1.30,1.96];

R = [0.010 	0.018 	-0.115 	0.021 	0.004 	0.122 	-0.035 	-0.001 	0.036 	0.063 	0.001 	-0.010 	-0.009 	-0.029 ];

p1 = [0.010 	0.018 	-0.115 	0.021];
p2 = [0.018 	-0.115 	0.021 	0.004];
p3 = [-0.115 	0.021 	0.004 	0.122];
p4 = [0.021 	0.004 	0.122 	-0.035];
p5 = [0.004 	0.122 	-0.035 	-0.001];

jie1 = [0.004 	0.122 	-0.035 	-0.001];
jie2 = [0.122 	-0.035 	-0.001 	0.036];
jie3 = [-0.035 	-0.001 	0.036 	0.063];
jie4 = [-0.001 	0.036 	0.063 	0.001];
jie5 = [0.036 	0.063 	0.001 	-0.010];
p=[p1;p2;p3;p4;p5]';
p = 100 * p;
pr=minmax(p);
% goal=[ones(1,9),zeros(1,6);zeros(1,9),ones(1,6)];
% plot(p1(:,1),p1(:,2),'h',p2(:,1),p2(:,2),'o')
goal = [jie1;jie2;jie3;jie4;jie5]';
goal = 100 * goal
net=newff(pr,[10,4],{'logsig','logsig'});
net.trainParam.show = 10;
net.trainParam.lr = 0.25;
net.trainParam.goal = 1e-5;
net.trainParam.epochs = 50000;
net = train(net,p,goal);
 x=100 * [0.122 	-0.035 	-0.001 	0.036;-0.035 	-0.001 	0.036 	0.063;-0.001 	0.036 	0.063 	0.001]';
y0=vpa(sim(net,p))
y=vpa(sim(net,x))